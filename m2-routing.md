---
description: –ú2 –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
---

# M2 Routing

## **–û–±–∑–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏**

–ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

* –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è-—ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —É—Ä–æ–≤–Ω—è 3 –≤ –º–æ–¥–µ–ª–∏ OSI ISO.
* –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫—É–¥–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è \(–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è\) —Ç—Ä–∞—Ñ–∏–∫.
* –û–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —á—Ç–æ–±—ã —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Å–µ—Ç–∏ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏.
  * –î–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ –æ–¥–Ω–æ–º ‚Äú–ø—Ä–æ–≤–æ–¥–µ‚Äù

### –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏–º–µ—Ä 1

* –ö–æ–º–ø—å—é—Ç–µ—Ä—ã –Ω–µ –±—É–¥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å

![](.gitbook/assets/0%20%281%29.jpeg)

### –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏ –º–∞—Ä—à—Ä—à—É—Ç–∏–∑–∞—Ü–∏–∏, –ø—Ä–∏–º–µ—Ä 2

* –ö–æ–º–ø—å—é—Ç–µ—Ä—ã —Ç–µ–ø–µ—Ä—å –º–æ–≥—É—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å

![](.gitbook/assets/1.jpeg)

–§–ª–∞–≥–∏ –º–∞—Ä—à—Ä—É—Ç–∞

* –ú–∞—Ä—à—Ä—É—Ç—ã –∏–º–µ—é—Ç —Å—Ç–∞—Ç—É—Å—ã. –í —ç—Ç–æ–º –∫—É—Ä—Å–µ –º—ã –æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å–æ —Å–ª–µ–¥—É—é—â–∏–º:
  * X: Disabled \(–æ—Ç–∫–ª—é—á–µ–Ω\)
  * A : Active \(–∞–∫—Ç–∏–≤–µ–Ω\)
  * D : Dynamic \(–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π\)
  * C : Connected \(–ø–æ–¥–∫–ª—é—á–µ–Ω\)
  * S : Static \(—Å—Ç–∞—Ç–∏—á–µ–Ω\)

![](.gitbook/assets/2%20%285%29.jpeg)

–§–ª–∞–≥–∏ –º–∞—Ä—à—Ä—É—Ç–∞

* **Disabled** : –º–∞—Ä—à—Ä—É—Ç –æ—Ç–∫–ª—é—á–µ–Ω. –ù–µ –∏–º–µ–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –ø—Ä–æ—Ü–µ—Å—Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.
* **Active** : –º–∞—Ä—à—Ä—É—Ç –∞–∫—Ç–∏–≤–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.
* **Dynamic** : –º–∞—Ä—à—Ä—É—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å–æ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –∞ –Ω–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.
* **Connected** : –º–∞—Ä—à—Ä—É—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π IP-–ø–æ–¥—Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è –∏–º–µ–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ.
* **Static** : –º–∞—Ä—à—Ä—É—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π .

## **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç

* –ú–∞—Ä—à—Ä—É—Ç—ã –∫ –ø–æ–¥—Å–µ—Ç—è–º, –∫–æ—Ç–æ—Ä—ã–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –∏–∑–≤–µ—Å—Ç–Ω—ã **—ç—Ç–∏–º** –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞–º. –ù–æ —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –ø–æ–¥—Å–µ—Ç–∏, –∫–æ—Ç–æ—Ä–∞—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ? –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç!
* –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç-—ç—Ç–æ —Ä—É—á–Ω–æ–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ—Å—ã–ª–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–µ—Ç–∏.

![](.gitbook/assets/3%20%281%29.jpeg)

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞—Ä—à—Ä—É—Ç

* –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ–ª–µ–π
  * **Flags** : The state of each route, as explained in previous slides
  * **Dst. Address** : The destination addresses this route is used for.
  * **Gateway** : Typically, the IP address of the next hop that will receive the packets destined for ‚Äú_**Dst. Address**_‚Äù.
  * **Distance** : Value used for route selection. In configurations where various distances are posible, the route with the smallest

### –ó–∞—á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é

* Makes configuration simpler on very small network which will most likely not grow.
* Limits the use of router resources \(memory, CPU\)

![](.gitbook/assets/4%20%281%29.jpeg)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

* Doesn‚Äôt scale well.
* Manual configuration is required every time a new subnet needs to be reached.

#### Limits of static routing, example

Your network grows and you need to add links to remote routers \(and subnets\).

* Assume that all routers have 2 LAN subnets and 1 or more WAN subnets

How many static routes to add on router-1?

* Routers 3 to 5 : 9
* Router 2 : 2
* Router 6 and 7 : 4

**Total of 15 static routes to add manually!!**

![](.gitbook/assets/image%20%282%29.png)

### Creating routes

* To add a static route :
  * IP -&gt; Routes
  * \(Add\)
  * Specify destination subnet and mask
  * Specify ‚ÄúGateway‚Äù \(next hop\)

### Setting the default route

* The route 0.0.0.0/0
  * Known as the **Default route**.
  * It is the destination where all traffic to unknown subnets will be forwarded.
  * It is also a static route.

### Managing dynamic routes

* As mentioned before, dynamic routes are added by the routing process, not by the administrator.
* This is done automatically.
* You can‚Äôt manage dynamic routes. If the interface to which the dynamic route is linked goes down, so does the route!

#### Managing dynamic routes, example

![](.gitbook/assets/7%20%282%29.jpeg)

Implementing static routing on simple networks

Consider the following example.

![](.gitbook/assets/8%20%283%29.jpeg)

#### Implementing static routing on simple networks

* Exercise:

Assuming ip addresses have been properly entered, what commands would you use to enable complete communications for both subnets \(LAN1 and LAN2\)?

\(Answer on next slide. Don‚Äôt peak üôÇ\)

#### Implementing static routing on simple networks

* router-1
  * /ip route
  * add gateway=172.22.0.18
  * add dst-address=10.1.2.0/24 gateway=10.0.0.2
* router-2
  * /ip route
  * add gateway=10.0.0.1

## Laboratory

* Goals of the lab
  * Gain connectivity to other POD LANs
  * Validate use of default route
  * View and explain route flags

Laboratory : Setup

![](.gitbook/assets/9%20%282%29.jpeg)

### Laboratory : step 1

* Delete the default route that was created in module 1
* Ping other PODs‚Äô computers. Note results
* Create static routes to other PODs‚Äô LAN subnets
* Ping other PODs‚Äô computers. Note results

### Laboratory : step 2

* Open a Web browser and try accessing Mikrotik‚Äôs Web page. Note results
* Create the default route using the trainer‚Äôs router as the gateway
* Open a Web browser and try accessing Mikrotik‚Äôs Web page. Note results

![](.gitbook/assets/6%20%283%29.jpeg)

